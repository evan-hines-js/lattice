apiVersion: lattice.dev/v1alpha1
kind: LatticeService
metadata:
  name: model-test
  namespace: model-cache-test
spec:
  workload:
    containers:
      main:
        image: docker.io/library/busybox:latest
        security:
          apparmorProfile: Unconfined
        command: ["sleep", "infinity"]
        volumes:
          /models:
            source: ${resources.llm}
    service:
      ports:
        http:
          port: 8000
          protocol: TCP
    resources:
      llm:
        type: model
        params:
          uri: "file:///tmp/test-model"
          size: "1Gi"
    replicas:
      min: 1
