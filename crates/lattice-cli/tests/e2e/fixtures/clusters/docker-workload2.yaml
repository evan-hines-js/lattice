# Docker second-tier workload cluster for E2E testing
# Used to test deep hierarchy, unpivot flow, and multi-pool support
# This is a leaf cluster (no endpoints) - child of e2e-workload
apiVersion: lattice.dev/v1alpha1
kind: LatticeCluster
metadata:
  name: e2e-workload2
spec:
  providerRef: docker
  provider:
    kubernetes:
      version: "1.32.0"
      bootstrap: rke2
      certSANs:
        - "127.0.0.1"
        - "localhost"
    config:
      docker: {}
  nodes:
    controlPlane: 1
    workerPools:
      general:
        replicas: 1
        labels:
          workload-type: general
      compute:
        replicas: 1
        labels:
          workload-type: compute
  environment: e2e-test
  region: local
